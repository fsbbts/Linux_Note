# Linux学习笔记



## Linux的安装

1. 在主机（windows）上安装VM虚拟机
2. 虚拟机上安装centos7.6、Ubuntu、centos8.1（Linux）每一个都是单独的一个虚拟系统 

3. Linux分区：boot（引导）1GB， swap 2GB， 根分区剩下所有的空间
4. 补：swap分区相当于对内存的补充，临时充当内存
5. 虚拟机上的网络设置：
   - 桥接模式：虚拟系统可以和外部系统通讯， 但只能在一个网段，容易造成IP冲突
   - NAT模式：网络地址转换模式， 虚拟系统可以和外部通讯，且不造成IP冲突（虚拟系统使用另一个网段， 通过主机IP代理）
   - 主机模式：独立的系统



## 虚拟机的克隆

（用vmware，先关闭运行中的虚拟机， 再进行虚拟机克隆）

- 浅拷贝：创立链接， 相当于引用
- 深拷贝：创立一个完整的空间， 开辟一个相同的空间

**注意：拷贝的文件甚至可以发送到别的PC上，再用vmware打开，内容一样**

**目的：方便创立一个集群**



##虚拟机快照

<u>*在虚拟机系统（Linux）做下一个可能会导致虚拟机异常的操作时，通过虚拟机快照回到之前的状态*</u>

1. 右击虚拟机，点击快照，可以给予备注
2. 可以多次进行快照
3. 点击快照管理，可以选择，去哪一个分支



## 虚拟机迁移和删除

- 迁移：移动虚拟系统文件夹即可
- 删除：先在vmware里移除， 再去对应文件夹删除文件即可



## vmtools的安装

**目的：可以设置windows和centos共享文件夹**

- vmtools安装：
  1. **注意：在root用户中进行操作， 且先弹出原有的光盘**
  2. 点击虚拟机， 重新安装vmtools （是个光盘）
  3. 将里面的 压缩包 复制到 其他设备->计算机->opt文件
  4. 打开终端， cd /opt/ 进入opt文件， ls查看到有个压缩包
  5. tar -zxvf(....)进行解压
  6. 进入解压的目录， cd vmware...  , ls看到有个绿色的install安装文件， ./(....)安装即可
  7. 看到 VMware team 即是安装成功
- MyShare设置：
  1. 在主机创建一个MyShare文件夹
  2. 右击虚拟机 -> 设置 -> 选项 -> 共享文件夹 -> 设置路径
  3. MyShare在虚拟机的/mnt目录下

**Tip:实际工作中， 采用远程传送文件夹而非用MyShare共享**



## Linux目录结构（目录树）

==**Linux的世界里， 一切都是文件（包扩各类软件， 也包括各类硬件如CPU, Disk）， 各类名字都是固定的**==

- **/**         [根目录]

- **/bin   **[存放最经常使用的命令]

- /sbin  [系统管理员常用指令]

- **/home  ** [除了root用户之外， 其他用户的文件] 

`useradd A //就是创建A用户的文件`

`userdel -r A //销毁A用户的文件`

- **/root**   [系统管理员的文件， 只有root用户才能打开]

- **/lib**      [系统开机所需的动态连接共享库， 类似于windows里的DLL， 所有应用程序都需要用到这个共享库]

- **/lost+found**  [当系统非法关机后， 这里面会存放一些文件，一般是隐藏的，在终端cd /进入根目录， 再ls 即可显示/lost+found]

- **/etc **    [系统管理， 应用程序的配置文件]

- **/usr**     [用户安装的文件/应用程序都在里面， 类似于Windows的Program Files]

- **/boot**  [放Linux的一些启动文件， 若破坏， Linux启动不了， 不能动]

- **/proc**  [虚拟目录， 系统内存的映射， 不能动， 否则Linux会崩溃]

- **/srv**    [service缩写， 存放服务启动之后需要提取的数据，不能动]

- **/sys**    [Linux内核文件， 不能动]

- **/temp** [存放临时文件]

- **/dev**   [device缩写， Linux的设备管理器， 将硬件以文件形式来存储]

- **/media**  [Linux会自动识别一些设备， 例如U盘， 光驱， 识别之后，将识别的设备挂载到这个目录下]

- **/mnt**   [为了让用户临时挂载别的文件系统， 可以将外部存储挂载到/mnt下, 进入该目录即可查看内容，如D: /MyShare] 

*挂载：外部文件系统，通过挂载到/mnt目录下，使得虚拟机也可以对这个外部文件系统进行操作*

- **/opt**   [给主机额外安装软件（压缩包）所存放的目录， 一般是下载一些软件 安装到/opt目录下]

- **/usr/local**  [给另外一个主机额外安装软件（程序）所存放的目录， 目标目录， 通过编译源码的方式安装]

- **/var**   [存放不断扩充的东西， 包括各种日志文件]

- **/selinux [security-enhanced linux]**  [安全子系统， 启用了这个系统， 才会有这个文件夹】

## Linux 远程登录





